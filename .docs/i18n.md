# n8n의 국제화(i18n)

## 범위

n8n은 대부분의 UI 텍스트를 국제화할 수 있도록 지원합니다:

- 기본 텍스트, 예: 왼쪽 사이드바 메뉴의 메뉴 표시 항목
- 노드 텍스트, 예: 노드 뷰의 매개변수 표시 이름과 플레이스홀더
- 인증 텍스트, 예: 인증 모달의 매개변수 표시 이름과 플레이스홀더
- 헤더 텍스트, 예: 다양한 위치에서의 노드 표시 이름과 설명

현재 n8n은 다음 항목의 국제화를 지원하지 않습니다:

- `editor-ui` 패키지 외부의 메시지, 예: `No active database connection`
- 특정 Vue 컴포넌트의 문자열, 예: 날짜 시간 선택기
- 노드 부제목, 예: 캔버스에서 노드 이름 아래의 `create: user` 또는 `getAll: post`
- 업데이트 패널의 새 버전 알림 내용, 예: `Includes node enhancements`
- `loadOptionsMethod`에 의존하는 옵션들

대기 중인 기능:

- 번역된 노드 이름으로 노드 패널 검색
- 다양한 크기의 문자열에 대한 UI 반응성
- 로케일 인식 숫자 형식

## Locale 식별자

**Locale 식별자**는 [`Accept-Language` 헤더](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Accept-Language)와 호환되는 언어 코드입니다. 예: `de` (독일어), `es` (스페인어), `ja` (일본어). `de-AT`의 `-AT`와 같은 Locale 식별자의 지역 변형은 지원되지 않습니다. 모든 Locale 식별자 목록은 [이 표의 639-1 열](https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes)을 참조하세요.

기본적으로 n8n은 `en` (영어) Locale로 실행됩니다. 다른 Locale로 실행하려면 `N8N_DEFAULT_LOCALE` 환경 변수를 Locale 식별자로 설정하세요. `en`이 아닌 Locale에서 실행할 때, n8n은 선택한 Locale의 UI 문자열을 표시하고 번역되지 않은 문자열에 대해서는 `en`으로 대체됩니다.

```
export N8N_DEFAULT_LOCALE=de
pnpm start
```

출력:

```
Initializing n8n process
n8n ready on 0.0.0.0, port 5678
Version: 0.156.0
Locale: de

Editor is now accessible via:
http://localhost:5678/

Press "o" to open in Browser.
```

## 기본 텍스트

기본 텍스트는 의존성 없이 렌더링됩니다. 즉, 기본 텍스트는 고정되어 있으며 어떤 상황에서도 변경되지 않습니다. 기본 텍스트는 사용자가 `/frontend/editor-ui` 패키지의 로케일당 하나의 파일로 제공합니다.

### 기본 텍스트 위치 찾기

각 로케일의 기본 텍스트 파일은 `/packages/frontend/editor-ui/src/plugins/i18n/locales/`에 위치하며 `{localeIdentifier}.json`으로 명명됩니다. 기본 텍스트 파일의 키는 Vue 컴포넌트 디렉토리, Vue 컴포넌트 이름, 그리고 해당 Vue 컴포넌트의 심볼 참조일 수 있습니다. 이러한 키는 UI가 수정되거나 확장됨에 따라 팀에 의해 추가됩니다.

```json
{
	"nodeCreator.categoryNames.analytics": "🇩🇪 Analytics",
	"nodeCreator.categoryNames.communication": "🇩🇪 Communication",
	"nodeCreator.categoryNames.coreNodes": "🇩🇪 Core Nodes"
}
```

### 기본 텍스트 번역하기

1. 새로운 로케일 식별자(예: `de`)를 선택하고 `en` JSON 기본 텍스트 파일을 새 이름으로 복사합니다:

```
cp ./packages/frontend/editor-ui/src/plugins/i18n/locales/en.json ./packages/frontend/editor-ui/src/plugins/i18n/locales/de.json
```

2. UI에서 번역할 문자열을 찾고 새로 생성된 기본 텍스트 파일에서 검색합니다. 또는 `/frontend/editor-ui`에서 `i18n.baseText(key)` 호출(예: `i18n.baseText('workflowActivator.deactivateWorkflow')`)을 찾고 키를 기록한 후 새로 생성된 기본 텍스트 파일에서 찾습니다.

> **참고**: 새 기본 텍스트 파일에서 문자열을 찾을 수 없다면, 해당 문자열이 기본 텍스트에 속하지 않을 수 있습니다(즉, 문자열이 헤더 텍스트, 인증 텍스트 또는 노드 텍스트의 일부일 수 있음). 또는 해당 문자열이 현재 i18n이 지원되지 않는 백엔드에 속할 수 있습니다.

3. 문자열 값을 번역합니다 - 키는 변경하지 마세요. 아래 예제에서 🇩🇪로 시작하는 문자열은 영어에서 독일어로 번역된 문자열을 나타냅니다.

선택적 최종 단계로, 새 기본 텍스트 파일에서 번역되지 않은 문자열을 제거할 수 있습니다. 새 기본 텍스트 파일의 번역되지 않은 문자열은 `en` 기본 텍스트 파일로 대체됩니다.

> **보간** 및 **재사용 가능한 기본 텍스트**에 대한 정보는 [부록](./ADDENDUM.md)을 참조하세요.

## 동적 텍스트

동적 텍스트는 각 노드와 인증에 특정한 데이터에 의존합니다:

- **노드 번역 파일**의 `headerText`와 `nodeText`
- **인증 번역 파일**의 `credText`

### 동적 텍스트 위치 찾기

#### 인증 번역 파일 위치 찾기

인증 번역 파일은 `/nodes-base/credentials/translations/{localeIdentifier}`에 위치합니다.

```
credentials
	└── translations
		└── de
			├── githubApi.json
			└── githubOAuth2Api.json
```

모든 인증은 자체 인증 번역 파일이 있어야 합니다.

인증 번역 파일의 이름은 인증의 `description.name` 속성에서 가져와야 합니다:

```ts
export class GithubApi implements ICredentialType {
	name = 'githubApi'; // 인증 번역 파일에 사용
	displayName = 'Github API';
	documentationUrl = 'github';
	properties: INodeProperties[] = [
```

#### 노드 번역 파일 위치 찾기

노드 번역 파일은 `/nodes-base/nodes/{node}/translations/{localeIdentifier}`에 위치합니다.

```
GitHub
	├── GitHub.node.ts
	├── GitHubTrigger.node.ts
	└── translations
		└── de
			├── github.json
			└── githubTrigger.json
```

모든 노드는 자체 노드 번역 파일이 있어야 합니다.

> **버전 관리 디렉토리**와 **그룹화 디렉토리**의 노드에 대한 정보는 [부록](./ADDENDUM.md)을 참조하세요.

노드 번역 파일의 이름은 노드의 `description.name` 속성에서 가져와야 합니다:

```ts
export class Github implements INodeType {
	description: INodeTypeDescription = {
		displayName: 'GitHub',
		name: 'github', // 노드 번역 파일 이름에 사용
		icon: 'file:github.svg',
		group: ['input'],
```

### 동적 텍스트 번역하기

#### 인증 번역 파일 번역하기

> **참고**: 모든 번역 키는 선택 사항입니다. 누락된 번역 값은 `en` 로케일 문자열로 대체됩니다.

인증 번역 파일(예: `githubApi.json`)은 인증 매개변수 이름과 일치하는 키를 포함하는 객체입니다:

```ts
export class GithubApi implements ICredentialType {
	name = 'githubApi';
	displayName = 'Github API';
	documentationUrl = 'github';
	properties: INodeProperties[] = [
		{
			displayName: 'Github Server',
			name: 'server', // 번역에 사용할 키
			type: 'string',
			default: 'https://api.github.com',
			description: 'The server to connect to. Only has to be set if Github Enterprise is used.',
		},
		{
			displayName: 'User',
			name: 'user', // 번역에 사용할 키
			type: 'string',
			default: '',
		},
		{
			displayName: 'Access Token',
			name: 'accessToken', // 번역에 사용할 키
			type: 'string',
			default: '',
		},
	];
}
```

각 노드 인증 매개변수에 대한 객체는 `displayName`, `description`, `placeholder` 키를 허용합니다.

```json
{
	"server.displayName": "🇩🇪 Github Server",
	"server.description": "🇩🇪 The server to connect to. Only has to be set if Github Enterprise is used.",
	"user.placeholder": "🇩🇪 Hans",
	"accessToken.placeholder": "🇩🇪 123"
}
```

<p align="center">
	<img src="img/cred.png">
</p>

기존 매개변수만 번역 가능합니다. 인증 매개변수가 영어 원본에 설명이 없다면, 해당 매개변수에 대한 번역을 추가해도 번역이 표시되지 않습니다 - 먼저 영어 원본에 매개변수를 추가해야 합니다.

#### 노드 번역 파일 번역하기

> **참고**: 모든 키는 선택 사항입니다. 누락된 번역은 `en` 로케일 문자열로 대체됩니다.

각 노드 번역 파일은 각 노드 번역의 _섹션_인 `header`와 `nodeView` 두 키를 허용하는 객체입니다.

`header` 섹션은 노드의 `description.displayName`과 `description.description`과 일치하는 `displayName`과 `description` 두 키만 포함할 수 있는 객체를 가리킵니다.

```ts
export class Github implements INodeType {
	description: INodeTypeDescription = {
		displayName: 'GitHub', // 번역에 사용할 키
		description: 'Consume GitHub API', // 번역에 사용할 키
		name: 'github',
		icon: 'file:github.svg',
		group: ['input'],
		version: 1,
```

```json
{
	"header": {
		"displayName": "🇩🇪 GitHub",
		"description": "🇩🇪 Consume GitHub API"
	}
}
```

헤더 텍스트는 노드의 표시 이름과 설명이 필요한 모든 곳에서 사용됩니다:

<p align="center">
		<img src="img/header1.png" width="400">
		<img src="img/header2.png" width="200">
		<img src="img/header3.png" width="400">
</p>

<p align="center">
		<img src="img/header4.png" width="400">
		<img src="img/header5.png" width="500">
</p>

반면, `nodeView` 섹션은 노드의 운영 매개변수와 일치하는 번역 키를 포함하는 객체를 가리키며, 이는 `*.node.ts`와 같은 디렉토리의 `*Description.ts` 파일에서도 찾을 수 있습니다.

```ts
export class Github implements INodeType {
	description: INodeTypeDescription = {
		displayName: 'GitHub',
		name: 'github',
		properties: [
			{
				displayName: 'Resource',
				name: 'resource', // 번역에 사용할 키
				type: 'options',
				options: [],
				default: 'issue',
				description: 'The resource to operate on.',
			},
```

```json
{
	"nodeView.resource.displayName": "🇩🇪 Resource"
}
```

노드 매개변수는 매개변수 유형에 따라 다른 번역 키를 허용합니다.

#### `string`, `number` 및 `boolean` 매개변수

허용된 키: `displayName`, `description`, `placeholder`

```ts
{
	displayName: 'Repository Owner',
	name: 'owner', // 번역에 사용할 키
	type: 'string',
	required: true,
	placeholder: 'n8n-io',
	description: 'Owner of the repository.',
},
```

```json
{
	"nodeView.owner.displayName": "🇩🇪 Repository Owner",
	"nodeView.owner.placeholder": "🇩🇪 n8n-io",
	"nodeView.owner.description": "🇩🇪 Owner of the repository"
}
```

<p align="center">
	<img src="img/node1.png" width="400">
</p>

#### `options` 매개변수

허용된 키: `displayName`, `description`, `placeholder`

허용된 하위 키: `options.{optionName}.displayName` 및 `options.{optionName}.description`.

```js
{
	displayName: 'Resource',
	name: 'resource',
	type: 'options',
	options: [
		{
			name: 'File',
			value: 'file', // 번역에 사용할 키
		},
		{
			name: 'Issue',
			value: 'issue', // 번역에 사용할 키
		},
	],
	default: 'issue',
	description: 'Resource to operate on',
},
```

```json
{
	"nodeView.resource.displayName": "🇩🇪 Resource",
	"nodeView.resource.description": "🇩🇪 Resource to operate on",
	"nodeView.resource.options.file.name": "🇩🇪 File",
	"nodeView.resource.options.issue.name": "🇩🇪 Issue"
}
```

<p align="center">
	<img src="img/node2.png" width="400">
</p>

HTTP Request 노드에서 사용할 수 있는 인증이 있는 노드의 경우, `Resource` 및 `Operation` 매개변수에 `Custom API Call` 옵션이 추가로 주입됩니다. 이 추가 옵션을 번역하려면 `__CUSTOM_API_CALL__` 키를 사용하세요.

```json
{
	"nodeView.resource.options.file.name": "🇩🇪 File",
	"nodeView.resource.options.issue.name": "🇩🇪 Issue",
	"nodeView.resource.options.__CUSTOM_API_CALL__.name": "🇩🇪 Custom API Call"
}
```

#### `collection` 및 `fixedCollection` 매개변수

허용된 키: `displayName`, `description`, `placeholder`, `multipleValueButtonText`

`collection` 매개변수 예시:

```js
{
	displayName: 'Labels',
	name: 'labels', // 번역에 사용할 키
	type: 'collection',
	typeOptions: {
		multipleValues: true,
		multipleValueButtonText: 'Add Label',
	},
	displayOptions: {
		show: {
			operation: [
				'create',
			],
			resource: [
				'issue',
			],
		},
	},
	default: { 'label': '' },
	options: [
		{
			displayName: 'Label',
			name: 'label', // 번역에 사용할 키
			type: 'string',
			default: '',
			description: 'Label to add to issue',
		},
	],
},
```

```json
{
	"nodeView.labels.displayName": "🇩🇪 Labels",
	"nodeView.labels.multipleValueButtonText": "🇩🇪 Add Label",
	"nodeView.labels.options.label.displayName": "🇩🇪 Label",
	"nodeView.labels.options.label.description": "🇩🇪 Label to add to issue",
	"nodeView.labels.options.label.placeholder": "🇩🇪 Some placeholder"
}
```

`fixedCollection` 매개변수 예시:

```js
{
	displayName: 'Additional Parameters',
	name: 'additionalParameters',
	placeholder: 'Add Parameter',
	description: 'Additional fields to add.',
	type: 'fixedCollection',
	default: {},
	displayOptions: {
		show: {
			operation: [
				'create',
				'delete',
				'edit',
			],
			resource: [
				'file',
			],
		},
	},
	options: [
		{
			name: 'author',
			displayName: 'Author',
			values: [
				{
					displayName: 'Name',
					name: 'name',
					type: 'string',
					default: '',
					description: 'Name of the author of the commit',
					placeholder: 'John',
				},
				{
					displayName: 'Email',
					name: 'email',
					type: 'string',
					default: '',
					description: 'Email of the author of the commit',
					placeholder: 'john@email.com',
				},
			],
		},
	],
}
```

```json
{
	"nodeView.additionalParameters.displayName": "🇩🇪 Additional Parameters",
	"nodeView.additionalParameters.placeholder": "🇩🇪 Add Field",
	"nodeView.additionalParameters.options.author.displayName": "🇩🇪 Author",
	"nodeView.additionalParameters.options.author.values.name.displayName": "🇩🇪 Name",
	"nodeView.additionalParameters.options.author.values.name.description": "🇩🇪 Name of the author of the commit",
	"nodeView.additionalParameters.options.author.values.name.placeholder": "🇩🇪 Jan",
	"nodeView.additionalParameters.options.author.values.email.displayName": "🇩🇪 Email",
	"nodeView.additionalParameters.options.author.values.email.description": "🇩🇪 Email of the author of the commit",
	"nodeView.additionalParameters.options.author.values.email.placeholder": "🇩🇪 jan@n8n.io"
}
```

<p align="center">
		<img src="img/node4.png" width="400">
</p>

> **재사용 가능한 동적 텍스트**에 대한 정보는 [부록](./ADDENDUM.md)을 참조하세요.

# 번역 빌드하기

## 기본 텍스트

`/packages/frontend/editor-ui/src/plugins/i18n/locales/{localeIdentifier}.json`의 기본 텍스트 파일을 번역할 때:

1. 터미널을 엽니다:

```sh
export N8N_DEFAULT_LOCALE=de
pnpm start
```

2. 다른 터미널을 엽니다:

```sh
export N8N_DEFAULT_LOCALE=de
cd packages/frontend/editor-ui
pnpm dev
```

기본 텍스트 파일을 변경하면 `http://localhost:8080`의 클라이언트가 다시 빌드됩니다.

## 동적 텍스트

`/packages/nodes-base/nodes/{node}/translations/{localeIdentifier}/{node}.json`의 동적 텍스트 파일을 번역할 때,

1. 터미널을 엽니다:

```sh
export N8N_DEFAULT_LOCALE=de
pnpm start
```

2. 다른 터미널을 엽니다:

```sh
export N8N_DEFAULT_LOCALE=de
cd packages/nodes-base
pnpm n8n-generate-translations
pnpm watch
```

동적 텍스트 파일을 변경한 후:

1. 첫 번째 터미널을 중지하고 다시 시작합니다.
2. `http://localhost:5678`의 브라우저를 새로고침합니다.

`headerText` 섹션이 변경된 경우, `/nodes-base`에서 `pnpm n8n-generate-translations`를 다시 실행하세요.

> **참고**: 기본 텍스트와 동적 텍스트를 동시에 번역하려면, 두 섹션의 단계를 따라 세 개의 터미널을 실행하고(첫 번째 터미널은 한 번만 실행) `http://localhost:8080`을 탐색하세요.
